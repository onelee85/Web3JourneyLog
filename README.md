# Web3 Journey Log
This is a journey log for Web3.
[Roadmap](https://roadmap.sh/blockchain)

## 区块链的基础知识
- 区块链基础
  区块链是一种去中心化的账本（类似分布式数据库），存储交易记录和状态，通过密码学保存数据，并通过共识算法验证和维护数据的完整性和安全性。
区块链的核心概念包括：
    - 区块：区块链上的每个区块包含一组交易，以及前一个区块的哈希值。
    - 交易：区块链上的交易是由用户发起的，包含输入和输出。
    - 节点：区块链网络中的参与者，每个节点都有完整的区块链副本。
    - 钱包：用户管理区块链账户的工具。
    - 挖矿：通过计算哈希算法来产生新的区块，并将交易细节添加到区块中
- 哈希算法基础
    SHA-256是目前最常用的哈希算法。keccak256
- 密码学基础
    公私钥对是区块链的基础，通过非对称加密算法实现。
    每笔交易都需要由用户的私钥签名，公钥验证。
- 共识算法 Consensus algorithms
    - 共识算法用来解决什么问题？
        共识算法用来解决区块链网络中多个节点的同步问题。区块链网络中存在多个节点，每个节点都有完整的区块链副本，当有新的交易发生时，需要将交易打包到区块中，并将区块广播到网络中。
        如何让所有节点都认可同一个区块链？
    区块链网络中的节点需要达成共识，才能确定一个区块的有效性。共识算法就是用来解决这个问题的。
    - PoW（工作量证明）、PoS（权益证明）、DPoS（委托权益证明）等共识算法。
        - PoW：通过计算复杂的哈希算法来产生新的区块，并将其添加到区块链中。找到符合target 的 nonce 值，才能产生新的区块。
        - PoS：权益证明，通过持有币的人来产生新的区块。
        - DPoS：委托权益证明，通过委托人来产生新的区块。
- 区块链分叉
    分叉有以下几种：
    - 硬分叉：硬分叉是指两个不同的链，一般是因为区块链协议更改，不向后兼容。
    - 软分叉：软分叉是对区块链协议的向后兼容更改，允许引入新规则，而无需所有用户升级其软件。

## 区块链的应用
### Oracles 区块链预言机
区块链预言机是一种将智能合约与外部世界连接起来的第三方服务，主要是从外部世界输入信息，但也可以反过来。 来自世界的信息封装了多个来源，以便获得分散的知识。
- Chainlink 是一个去中心化的预言机网络，它使智能合约能够安全地与存在于区块链网络之外的真实世界数据和服务进行交互

## 智能合约
智能合约是一种基于区块链的程序或者交易协议，它可以自动执行合约条款。智能合约可以存储数字资产、执行合约条款、管理数字资产的转移、触发事件等。
### 智能合约框架
- Hardhat 是一个以太坊开发环境。 它允许用户编译合约并在开发网络上运行它们。 获取 Solidity 堆栈跟踪、console.log 等。
- Truffle 是一个用于开发、编译、部署和管理以太坊智能合约的框架。 它可以与其他工具集成，如 Ganache、ZeppelinOS、OpenZeppelin 等。
- Foundry 是一个基于 Solidity 的智能合约开发环境，它可以帮助开发者快速、高效地开发智能合约。 它提供了一个快速的开发环境，支持 Solidity 语言和其他语言的开发。
### ERC Ethereum Request for Comments
- ERC20
    是以太坊区块链上的一种技术标准，用于定义代币如何运行。ERC 代表“Ethereum Request for Comments”，而 20 是提案的编号。作为一种通用协议，ERC-20 允许开发者轻松创建和发行兼容的代币。ERC-20 的设计初衷是解决代币开发和交易中的碎片化问题，通过制定标准化接口，任何符合 ERC-20 规则的代币都可以在以太坊网络中无缝交互。例如，许多知名的加密货币，如 USDT 和 DAI，都基于 ERC-20 标准。
- EIP Ethereum Improvement Proposal
    EIP 是以太坊改进提案的缩写，它是一种用于建议和讨论以太坊协议改进的机制。EIP 可以是新的功能、协议变更、标准定义等。每个 EIP 都有一个唯一的编号，例如 EIP-1、EIP-2 等。
- ERC721代币
- ERC1155代币
- ERC777代币

## 以太坊
以太坊是一个可编程的区块链平台，能够支持智能合约、dapps（去中心化应用程序）和其他 DeFi 项目。 以太坊本机令牌是以太 (ETH)，它用于推动区块链上的操作。
- 太坊虚拟机 (EVM) 
    以太坊虚拟机 (EVM) 是一个专用的软件虚拟堆栈，可执行智能合约字节码并集成到每个以太坊节点中。 简单地说，EVM 是一个软件框架，允许开发人员构建基于以太坊的去中心化应用程序 (DApps)。 所有以太坊账户和智能合约都存储在这台虚拟计算机上。许多区块链已经分叉了以太坊区块链并在其之上添加了功能，这些区块链被称为基于 EVM 的区块链。

## 安全风控
- double spending acttck 花钱的人不诚实
    双花攻击是一种攻击方式，攻击者通过双重支付来盗取资金。双花攻击的发生有以下几种原因：
    - 双方同时向同一笔交易支付资金，导致资金损失。
    - 双方同时向同一笔交易支付资金，导致资金流向不同的地址。
    - 双方同时向同一笔交易支付资金，导致资金流向同一地址，但交易被确认后，双方的资金被冻结。
    - 双方同时向同一笔交易支付资金，导致资金流向同一地址，但交易被确认后，双方的资金被冲销。
    - **解决方案**： 防止双花攻击。 区块链上每个交易都有一个唯一的交易哈希值，它是由区块链维护的。当一个交易被打包到区块中时，其交易哈希值会被记录在区块头中。如果一个交易的交易哈希值已经被使用过，那么它将无法被打包到区块中。
- replay attack  收钱的人不诚实
    重放攻击是一种攻击方式，攻击者通过重放之前的交易来盗取资金。重放攻击的发生有以下几种原因：
    - 攻击者篡改交易数据，使其与之前的交易相同。
    - 攻击者使用之前的交易数据，多次发送交易。
    - **解决方案**： nonce 机制。 区块链上每个交易都有一个唯一的 nonce 值，它是由区块链维护的。当一个交易被打包到区块中时，其 nonce 值会增加。如果一个交易的 nonce 值已经被使用过，那么它将无法被打包到区块中。
    